/* V 1.1 */
function multiTab(t,e){this.target=t,this.options=e,this.curStepIdx=e.activTab,this.steps=$(t).find(e.tabHeading).children("li").children("a"),this.elmStepContainer=$(t).find(e.contentWrap),this.buttons={next:$("<a>"+e.nextLable+"</a>").attr("href","#").addClass("btnNext"),previous:$("<a>"+e.previousLabel+"</a>").attr("href","#").addClass("btnPrevious"),finish:$('<a id="wizFinishButtonId">'+e.FinishLabel+"</a>").attr("href","#").addClass("btnFinish")};var s="",i=function(t){if(e.wizard){var s=$("<div></div>").addClass("buttonWrap");s.append(t.buttons.previous).append(t.buttons.next),t.target.append(s),t.options.appendFinishButtonTo?$(t.buttons.finish).appendTo(t.options.appendFinishButtonTo):t.options.includeFinishButton&&s.append(t.buttons.finish)}return!0},o=function(t){$(t.steps).each(function(){var e=$(this).text(),s=$(this).attr("href");$("<h3 data-hashId="+s+" data-showAllTab="+t.options.showAllTab+" data-accExpand="+t.options.accordionExpand+">"+e+"</h3>").insertBefore("#"+t.target[0].id+" "+s)});var i=$("#"+t.target[0].id+" "+e.contentWrap).children("h3")[0],o=["#"+t.target[0].id,e.contentWrap,i.localName];return s=o.join(" > "),t.options.showAllTab?$(s).addClass("active"):$(s+":eq("+t.curStepIdx+")").addClass("active"),$(s).bind("click",function(e){if($(s).index(this)==t.curStepIdx&&1!=t.options.showAllTab&&1!=t.options.accordionExpand)return!1;var i=$(s).index(this);if(1!=t.steps.eq(i).attr("data-active")-0)return!1;n(t,i,!0);var o=$(this).attr("data-showAllTab"),a=$(this).attr("data-accExpand");return"true"==o||"true"==a?$(s+"[data-hashid='"+$(t.steps)[$(s).index(this)].hash+"']").toggleClass("active"):($(t.elmStepContainer).children("h3").removeClass("active"),$(s+"[data-hashid='"+$(t.steps)[$(s).index(this)].hash+"']").addClass("active")),!1}),!0},n=function(t,e,s){t.steps.eq(e);a(t,e,s)},a=function(t,e,s){var i=t.steps.eq(e),o=t.steps.eq(t.curStepIdx);if(e!=t.curStepIdx&&$.isFunction(t.options.onLeaveStep)){var n={fromStep:t.curStepIdx+1,toStep:e+1};if(!t.options.onLeaveStep.call(t,$(o),n))return!1}t.curStepIdx;if(t.curStepIdx=e,s){if(1==t.options.accordion&&1==t.options.showAllTab||1==t.options.accordionExpand)r(t,i).slideToggle();else{a="";t.options.buttonInside&&(a=$(t.target).find(".buttonWrap").detach()),$(t.elmStepContainer).children("div").slideUp(),r(t,i).slideDown().append(a)}d(t,o,i)}else if(1!=t.options.accordion)switch(t.options.transitionEffect.toUpperCase()){case"RIGHT":$(t.elmStepContainer).children("div").addClass("hideBlock").removeClass("showBlock").animate({left:"100%"},0),l(t,i).addClass("showBlock").removeClass("hideBlock").animate({left:"0%"},400),d(t,o,i),localStorage.setItem("RSB","showBlock"),localStorage.setItem("RHB","hideBlock"),localStorage.setItem("RBClass","Y");break;case"LEFT":$(t.elmStepContainer).children("div").addClass("hideBlock").removeClass("showBlock").animate({right:"100%"},0),l(t,i).addClass("showBlock").removeClass("hideBlock").animate({right:"0%"},400),d(t,o,i),localStorage.setItem("LSB","showBlock"),localStorage.setItem("LHB","hideBlock"),localStorage.setItem("LBClass","Y");break;case"FADE":$(t.elmStepContainer).children("div").hide(),r(t,i).fadeIn(),d(t,o,i);break;case"SLIDE":$(t.elmStepContainer).children("div").slideUp(),r(t,i).slideDown(),d(t,o,i);break;default:$(t.elmStepContainer).children("div").hide(),r(t,i).show(),d(t,o,i)}else if(1==t.options.accordion&&1==t.options.showAllTab)$(t.elmStepContainer).children("div").show().removeAttr("class"),r(t,i).show(),d(t,o,i);else if(1==t.options.accordion){var a="";t.options.buttonInside&&(a=$(t.target).find(".buttonWrap").detach()),$(t.elmStepContainer).children("div").hide().removeAttr("class"),r(t,i).show().append(a),d(t,o,i)}t.checkAccordion();var c;if(window.addEventListener("resize",function(e){clearTimeout(c),c=setTimeout(function(){return t.checkAccordion(),!1},250)}),!t.options.accordion){var h=$(t.target[0]).find(t.options.tabHeading);$(t.target[0]).find("slide").length<1&&$("<slide></slide>").appendTo(h);var p=$(i).outerWidth(),u=i.offset().left-h.offset().left;$(t.target[0]).find("slide").css({width:p+"px",left:u+"px"})}return!0},r=function(t,e){return $($(e,t.target).attr("href").replace(/^.+#/,"#"),t.target)},l=function(t,e){return $($(e,t.target).attr("href").replace(/^.+#/,"#"),t.target)},d=function(t,e,s){if($(e,t.target).removeClass("active").addClass("done"),$(s,t.target).removeClass("disabled done").addClass("active").attr("data-active",1),t.options.disableAllSteps&&($(t.elmStepContainer).children("h3").removeClass("disabled"),$(t.elmStepContainer).find("[data-hashid='"+s[0].hash+"']").addClass("active")),1!=t.options.showAllTab&&1!=t.options.accordionExpand&&($(t.elmStepContainer).children("h3").removeClass("active"),$(t.elmStepContainer).find("[data-hashid='"+s[0].hash+"']").addClass("active")),h(t),$.isFunction(t.options.onShowStep)){var i={fromStep:parseInt($(e).attr("index")),toStep:parseInt($(s).attr("index"))};if(!t.options.onShowStep.call(this,$(s),i))return!1}},c=function(t){t.options.disableAllSteps?$(t.steps).removeClass("active done").addClass("disabled").attr("data-active",0):$(t.steps).removeClass("active disabled").addClass("done").attr("data-active",1),$(t.steps).each(function(t){$(this).attr("index",t+1)})},h=function(t){t.options.cycleSteps||(0>=t.curStepIdx?($(t.buttons.previous).addClass("buttonDisabled"),t.options.hideButtonsOnDisabled&&$(t.buttons.previous).hide()):($(t.buttons.previous).removeClass("buttonDisabled"),t.options.hideButtonsOnDisabled&&$(t.buttons.previous).show()),t.steps.length-1<=t.curStepIdx?($(t.buttons.next).addClass("buttonDisabled"),t.options.hideButtonsOnDisabled&&$(t.buttons.next).hide()):($(t.buttons.next).removeClass("buttonDisabled"),t.options.hideButtonsOnDisabled&&$(t.buttons.next).show())),t.enableFinish(t.options.enableFinishButton,t.curStepIdx)};multiTab.prototype.checkAccordion=function(){var t=$(window).innerWidth();1==this.options.accordion||t<this.options.accordionBrake+1?($(this.steps).parent().hide(),$($(this.elmStepContainer).children("h3")).show()):($(this.steps).parent().show(),$($(this.elmStepContainer).children("h3")).hide()),RSB=localStorage.getItem("RSB"),RHB=localStorage.getItem("RHB"),RBClass=localStorage.getItem("RBClass"),LSB=localStorage.getItem("LSB"),LHB=localStorage.getItem("LHB"),LBClass=localStorage.getItem("LBClass"),1!=this.options.accordion&&t<this.options.accordionBrake+1&&null!=RBClass&&"Right"==this.options.transitionEffect?$($(this.elmStepContainer).children("div")).each(function(){$(this).attr("class")==RHB?($(this).hide().removeAttr("class"),localStorage.removeItem("RBClass")):$(this).attr("class")==RSB&&$(this).show().removeAttr("class")}):1!=this.options.accordion&&t>this.options.accordionBrake&&null==RBClass&&"Right"==this.options.transitionEffect&&$($(this.elmStepContainer).children("div")).each(function(){$(this).is(":visible")?($(this).addClass(RSB).removeAttr("style"),localStorage.setItem("RBClass","Y")):$(this).addClass(RHB).removeAttr("style")}),1!=this.options.accordion&&t<this.options.accordionBrake+1&&null!=LBClass&&"Left"==this.options.transitionEffect?$($(this.elmStepContainer).children("div")).each(function(){$(this).attr("class")==LHB?($(this).hide().removeAttr("class"),localStorage.removeItem("LBClass")):$(this).attr("class")==LSB&&$(this).show().removeAttr("class")}):1!=this.options.accordion&&t>this.options.accordionBrake&&null==LBClass&&"Left"==this.options.transitionEffect&&$($(this.elmStepContainer).children("div")).each(function(){$(this).is(":visible")?($(this).addClass(LSB).removeAttr("style"),localStorage.setItem("LBClass","Y")):$(this).addClass(LHB).removeAttr("style")})},multiTab.prototype.enableFinish=function(t,e){var s=this.steps.length-1,i=!0;return this.options.disableAllSteps&&(i=s!=e),this.options.enableFinishButton=t,this.options.includeFinishButton&&(!i||this.options.enableFinishButton?($(this.buttons.finish).removeClass("buttonDisabled"),this.options.hideButtonsOnDisabled&&$(this.buttons.finish).show()):($(this.buttons.finish).addClass("buttonDisabled"),this.options.hideButtonsOnDisabled&&$(this.buttons.finish).hide())),this.options.enableFinishButton},multiTab.prototype.moveForward=function(){var t=this.curStepIdx+1;if(this.steps.length<=t){if(!this.options.cycleSteps)return!1;t=0}n(this,t)},multiTab.prototype.moveBackward=function(){var t=this.curStepIdx-1;if(0>t){if(!this.options.cycleSteps)return!1;t=this.steps.length-1}n(this,t)},function(t){if(o(t),i(t),!(t.curStepIdx<=t.steps.length-1))return console.log("activTab not available"),!1;$(t.buttons.next).click(function(){return t.moveForward(),!1}),$(t.buttons.previous).click(function(){return t.moveBackward(),!1}),t.options.keyNavigation&&$(document).keyup(function(e){39==e.which?t.moveForward():37==e.which&&t.moveBackward()}),$(t.steps).bind("click",function(e){if(t.steps.index(this)==t.curStepIdx)return!1;var s=t.steps.index(this);return 1==t.steps.eq(s).attr("data-active")-0&&n(t,s),!1}),$(t.buttons.finish).click(function(){if(!$(this).hasClass("buttonDisabled"))if($.isFunction(t.options.onFinish)){var e={fromStep:t.curStepIdx+1};if(!t.options.onFinish.call(this,$(t.steps),e))return!1}else{var s=t.target.parents("form");s&&s.length&&s.submit()}return!1}),c(t),n(t,t.curStepIdx)}(this)}
(function($){$.fn.multiTab = function(method) {var allObjs = this.each(function() {var tabWiz = $(this).data('tabWiz');if (typeof method == 'object' || ! method || !tabWiz) {var options = $.extend({}, $.fn.multiTab.defaults, method || {});if (!tabWiz) {tabWiz = new multiTab($(this), options);$(this).data("tabWiz",tabWiz)}}else {$.error('Method ' + method + ' does not exist on jQuery.multiTab');}});return allObjs;};
$.fn.multiTab.defaults = {
	tabHeading: '.multiTabHeading',
	contentWrap: '.multiTabContent',
	transitionEffect: 'none',
	accordion: false,
	showAllTab: false,
	accordionExpand: false,
	accordionBrake: 768,
	activTab: 0,
	wizard: false,
	nextLable:'Next',
	previousLabel:'Previous',
	FinishLabel:'Finish',
	buttonInside: true,
	cycleSteps: false,
	hideButtonsOnDisabled: false,
	keyNavigation: false,
	enableFinishButton: false,
	includeFinishButton : true,
	disableAllSteps: false,
	appendFinishButtonTo: null,
	onLeaveStep: null,
	onShowStep: null,
	onFinish: null
};
})(jQuery);